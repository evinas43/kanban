<Window x:Class="Kanban.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Kanban"
        mc:Ignorable="d"
        Title="MainWindow" Height="800" Width="1600">

    <Window.Resources>
        <local:PrioritatConverter x:Key="PrioritatConverter"/>
    </Window.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="0*"/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>

        <Grid.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                <GradientStop Color="#FF0D1B2A" Offset="0"/>
                <GradientStop Color="#FF1B2B3A" Offset="1"/>
            </LinearGradientBrush>
        </Grid.Background>

        <StackPanel Margin="40,40,40,40" Grid.ColumnSpan="2">

            <Button x:Name="btnAdminPanel"
                Content="Panel de Control"
                Width="150"
                Height="40"
                Background="#2962FF"
                Foreground="White"
                FontWeight="Bold"
                Click="BtnAdminPanel_Click"
               />

            <TextBlock Text="Kanban" Foreground="White" FontSize="36" FontWeight="Bold"/>
            <TextBlock Text="Gestor de tasques" Foreground="#88FFFFFF" FontSize="16" Margin="0,4,0,20"/>

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- To Do Column -->
                <Border Grid.Column="0" Margin="10" CornerRadius="12" Background="#112233">
                    <StackPanel>
                        <Border Background="#2962FF" CornerRadius="8" Padding="10" Margin="8">
                            <TextBlock Text="To Do" Foreground="White" FontWeight="Bold" FontSize="16"/>
                        </Border>
                        <ListView x:Name="toDoList" Margin="8" Background="#1E2A38" BorderThickness="0" Foreground="White"
                                  MouseDoubleClick="TaskListView_MouseDoubleClick" Padding="6">
                            <ListView.ItemTemplate>
                                <DataTemplate>
                                    <Border Background="#2A2F3A" CornerRadius="6" Padding="6" Margin="4" Width="200">
                                        <StackPanel>
                                            <TextBlock Text="{Binding Nom}" FontWeight="Bold" Foreground="White"/>
                                            <TextBlock Text="{Binding Descripcio}" FontSize="12" Foreground="#88FFFFFF"/>
                                            <TextBlock Text="{Binding DataFinal, StringFormat='Deadline: {0:dd/MM/yyyy}'}"
                                                       FontSize="11" Foreground="#AAAAAA" Margin="0,2,0,0"/>
                                            <Border CornerRadius="4" Padding="4,2" HorizontalAlignment="Left" Margin="0,6,0,0">
                                                <Border.Style>
                                                    <Style TargetType="{x:Type Border}">
                                                        <Setter Property="Background" Value="Green"/>
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding Prioritat}" Value="1">
                                                                <Setter Property="Background" Value="Green"/>
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding Prioritat}" Value="2">
                                                                <Setter Property="Background" Value="Orange"/>
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding Prioritat}" Value="3">
                                                                <Setter Property="Background" Value="Red"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Border.Style>
                                                <TextBlock Text="{Binding Prioritat, Converter={StaticResource PrioritatConverter}}" 
                                                           Foreground="White" FontSize="11"/>
                                            </Border>
                                        </StackPanel>
                                    </Border>
                                </DataTemplate>
                            </ListView.ItemTemplate>
                        </ListView>
                        <Button Foreground="White" Background="Transparent" Click="AddTask_Click" Content="+add task"/>
                    </StackPanel>
                </Border>

                <!-- Doing Column -->
                <Border Grid.Column="1" Margin="10" CornerRadius="12" Background="#112233">
                    <StackPanel>
                        <Border Background="#FFA000" CornerRadius="8" Padding="10" Margin="8">
                            <TextBlock Text="Doing" Foreground="White" FontWeight="Bold" FontSize="16"/>
                        </Border>
                        <ListView x:Name="doingList" Margin="8" Background="#1E2A38" BorderThickness="0" Foreground="White"
                                  MouseDoubleClick="TaskListView_MouseDoubleClick" Padding="6">
                            <ListView.ItemTemplate>
                                <DataTemplate>
                                    <Border Background="#2A2F3A" CornerRadius="6" Padding="6" Margin="4" Width="200">
                                        <StackPanel>
                                            <TextBlock Text="{Binding Nom}" FontWeight="Bold" Foreground="White"/>
                                            <TextBlock Text="{Binding Descripcio}" FontSize="12" Foreground="#88FFFFFF"/>
                                            <TextBlock Text="{Binding DataFinal, StringFormat='Deadline: {0:dd/MM/yyyy}'}"
                                                       FontSize="11" Foreground="#AAAAAA" Margin="0,2,0,0"/>
                                            <Border CornerRadius="4" Padding="4,2" HorizontalAlignment="Left" Margin="0,6,0,0">
                                                <Border.Style>
                                                    <Style TargetType="{x:Type Border}">
                                                        <Setter Property="Background" Value="Green"/>
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding Prioritat}" Value="1">
                                                                <Setter Property="Background" Value="Green"/>
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding Prioritat}" Value="2">
                                                                <Setter Property="Background" Value="Orange"/>
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding Prioritat}" Value="3">
                                                                <Setter Property="Background" Value="Red"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Border.Style>
                                                <TextBlock Text="{Binding Prioritat, Converter={StaticResource PrioritatConverter}}" 
                                                           Foreground="White" FontSize="11"/>
                                            </Border>
                                        </StackPanel>
                                    </Border>
                                </DataTemplate>
                            </ListView.ItemTemplate>
                        </ListView>
                        <Button Foreground="White" Background="Transparent" Click="AddTask_Click" Content="+add task"/>
                    </StackPanel>
                </Border>

                <!-- To Review Column -->
                <Border Grid.Column="2" Margin="10" CornerRadius="12" Background="#112233">
                    <StackPanel>
                        <Border Background="#AA00FF" CornerRadius="8" Padding="10" Margin="8">
                            <TextBlock Text="To Review" Foreground="White" FontWeight="Bold" FontSize="16"/>
                        </Border>
                        <ListView x:Name="toReviewList" Margin="8" Background="#1E2A38" BorderThickness="0" Foreground="White"
                                  MouseDoubleClick="TaskListView_MouseDoubleClick" Padding="6">
                            <ListView.ItemTemplate>
                                <DataTemplate>
                                    <Border Background="#2A2F3A" CornerRadius="6" Padding="6" Margin="4" Width="200">
                                        <StackPanel>
                                            <TextBlock Text="{Binding Nom}" FontWeight="Bold" Foreground="White"/>
                                            <TextBlock Text="{Binding Descripcio}" FontSize="12" Foreground="#88FFFFFF"/>
                                            <TextBlock Text="{Binding DataFinal, StringFormat='Deadline: {0:dd/MM/yyyy}'}"
                                                       FontSize="11" Foreground="#AAAAAA" Margin="0,2,0,0"/>
                                            <Border CornerRadius="4" Padding="4,2" HorizontalAlignment="Left" Margin="0,6,0,0">
                                                <Border.Style>
                                                    <Style TargetType="{x:Type Border}">
                                                        <Setter Property="Background" Value="Green"/>
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding Prioritat}" Value="1">
                                                                <Setter Property="Background" Value="Green"/>
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding Prioritat}" Value="2">
                                                                <Setter Property="Background" Value="Orange"/>
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding Prioritat}" Value="3">
                                                                <Setter Property="Background" Value="Red"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Border.Style>
                                                <TextBlock Text="{Binding Prioritat, Converter={StaticResource PrioritatConverter}}" 
                                                           Foreground="White" FontSize="11"/>
                                            </Border>
                                        </StackPanel>
                                    </Border>
                                </DataTemplate>
                            </ListView.ItemTemplate>
                        </ListView>
                        <Button Foreground="White" Background="Transparent" Click="AddTask_Click" Content="+add task"/>
                    </StackPanel>
                </Border>

                <!-- Done Column -->
                <Border Grid.Column="3" Margin="10" CornerRadius="12" Background="#112233">
                    <StackPanel>
                        <Border Background="#00C853" CornerRadius="8" Padding="10" Margin="8">
                            <TextBlock Text="Done" Foreground="White" FontWeight="Bold" FontSize="16"/>
                        </Border>
                        <ListView x:Name="doneList" Margin="8" Background="#1E2A38" BorderThickness="0" Foreground="White"
                                  MouseDoubleClick="TaskListView_MouseDoubleClick" Padding="6">
                            <ListView.ItemTemplate>
                                <DataTemplate>
                                    <Border Background="#2A2F3A" CornerRadius="6" Padding="6" Margin="4" Width="200">
                                        <StackPanel>
                                            <TextBlock Text="{Binding Nom}" FontWeight="Bold" Foreground="White"/>
                                            <TextBlock Text="{Binding Descripcio}" FontSize="12" Foreground="#88FFFFFF"/>
                                            <TextBlock Text="{Binding DataFinal, StringFormat='Deadline: {0:dd/MM/yyyy}'}"
                                                       FontSize="11" Foreground="#AAAAAA" Margin="0,2,0,0"/>
                                            <Border CornerRadius="4" Padding="4,2" HorizontalAlignment="Left" Margin="0,6,0,0">
                                                <Border.Style>
                                                    <Style TargetType="{x:Type Border}">
                                                        <Setter Property="Background" Value="Green"/>
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding Prioritat}" Value="1">
                                                                <Setter Property="Background" Value="Green"/>
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding Prioritat}" Value="2">
                                                                <Setter Property="Background" Value="Orange"/>
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding Prioritat}" Value="3">
                                                                <Setter Property="Background" Value="Red"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Border.Style>
                                                <TextBlock Text="{Binding Prioritat, Converter={StaticResource PrioritatConverter}}" 
                                                           Foreground="White" FontSize="11"/>
                                            </Border>
                                        </StackPanel>
                                    </Border>
                                </DataTemplate>
                            </ListView.ItemTemplate>
                        </ListView>
                        <Button Foreground="White" Background="Transparent" Click="AddTask_Click" Content="+add task"/>
                    </StackPanel>
                </Border>

            </Grid>
        </StackPanel>
    </Grid>
</Window>
